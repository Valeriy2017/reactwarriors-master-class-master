{"version":3,"sources":["components/MovieItem.jsx","utils/api.js","components/MovieTabs.jsx","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","_this2","this","_this$props","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","react_default","a","createElement","className","src","concat","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","API_URL","API_KEY_3","MovieTabs","nextProps","nextState","console","log","sort_by","updateSortBy","handleClick","value","event","getClassActiveLink","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getMovies","fetch","then","response","json","movies","results","movie","id","updateMovies","filter","item","updateMoviesWillWatch","toConsumableArray","moviesWillWatch","push","prevProps","prevState","components_MovieTabs","map","key","components_MovieItem","length","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.47ec5efe.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  state = {\r\n    willWatch: false\r\n  };\r\n//   componentWillUnmount() {\r\n//     console.log(\"unmount\", this.props.data.title);\r\n//   }\r\n  render() {\r\n    const {\r\n      data,\r\n      deleteMovie,\r\n      addMovieToWillWatch,\r\n      deleteMovieFromWillWatch\r\n    } = this.props;\r\n    // props.data = {};\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\r\n            data.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{data.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n            {this.state.willWatch ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: false\r\n                  });\r\n                  deleteMovieFromWillWatch(data);\r\n                }}\r\n              >\r\n                Will Watch\r\n              </button>\r\n            ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: true\r\n                    });\r\n                    addMovieToWillWatch(data);\r\n                  }}\r\n                >\r\n                  Will Watch\r\n              </button>\r\n              )}\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              deleteMovie(data);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\r\n\r\n\r\nclass MovieTabs extends React.Component{\r\n  componentWillReceiveProps(nextProps, nextState) {\r\n    console.log(\"willReceiveProps\");\r\n    console.log(\"nextProps sort_by\", nextProps.sort_by);\r\n    console.log(\"prevProps sort_by\", this.props.sort_by);\r\n  }\r\n  \r\n  shouldComponentUpdate(nextProps) {\r\n    if (nextProps.sort_by !== this.props.sort_by) {\r\n       return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  \r\n  render() {\r\n     const { sort_by, updateSortBy } = this.props;\r\n  // const handleClick = value => () => {\r\n  //     updateSortBy(value);\r\n  //   };\r\n  // };\r\n  const handleClick = value => {\r\n    return event => {\r\n      updateSortBy(value);\r\n    };\r\n  };\r\n\r\n  const getClassActiveLink = value => {\r\n    return `nav-link ${sort_by === value ? \"active\" : \"\"}`;\r\n  };\r\n\r\n  return (\r\n    <ul className=\"tabs nav nav-pills\">\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getClassActiveLink(\"popularity.desc\")}\r\n          onClick={handleClick(\"popularity.desc\")}\r\n        >\r\n          Popularity desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getClassActiveLink(\"revenue.desc\")}\r\n          // className={`nav-link ${sort_by === \"revenue.desc\" ? \"active\" : \"\"}`}\r\n          onClick={handleClick(\"revenue.desc\")}\r\n        >\r\n          Revenue desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getClassActiveLink(\"vote_average.desc\")}\r\n          // className={`nav-link ${sort_by === \"vote_average.desc\" ? \"active\" : \"\"}`}\r\n          onClick={handleClick(\"vote_average.desc\")}\r\n        >\r\n          Vote average desc\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  );\r\n }\r\n\r\n}\r\n\r\n     \r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\n// import moviesData from \"../moviesData\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\r\nimport MovieTabs from \"./MovieTabs\";\r\n\r\n// UI = fn(state, props)\r\n\r\n// App = new React.Component()\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: \"popularity.desc\"\r\n    };\r\n    console.log(\"constructor\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"didMount\");\r\n    this.getMovies();\r\n    // fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`)\r\n    //   .then(response => {\r\n    //     console.log(\"then\");\r\n    //     return response.json();\r\n    //   })\r\n    //   .then(data => {\r\n    //     console.log(\"data\", data);\r\n    //     this.setState({\r\n    //       movies: data.results\r\n    //     });\r\n    //   });\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(\"didUpdate\");\r\n    console.log(\"prev\", prevProps, prevState);\r\n    console.log(\"this\", this.props, this.state);\r\n    if (prevState.sort_by !== this.state.sort_by) {\r\n      console.log(\"call api\");\r\n      this.getMovies();\r\n      // fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`)\r\n      // .then(response => {\r\n      //   console.log(\"then\");\r\n      //   return response.json();\r\n      // })\r\n      // .then(data => {\r\n      //   console.log(\"data\", data);\r\n      //   this.setState({\r\n      //     movies: data.results\r\n      //   });\r\n      // });\r\n    }\r\n   }\r\n  \r\n  getMovies = () => {\r\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`)\r\n      .then(response => {\r\n        console.log(\"then\");\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        console.log(\"data\", data);\r\n        this.setState({\r\n          movies: data.results\r\n        });\r\n      });\r\n  };\r\n  \r\n  deleteMovie = movie => {\r\n    console.log(movie.id);\r\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\r\n    console.log(updateMovies);\r\n\r\n    // this.state.movies = updateMovies;\r\n    this.setState({\r\n      movies: updateMovies\r\n    });\r\n  };\r\n\r\n  addMovieToWillWatch = movie => {\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n    updateMoviesWillWatch.push(movie);\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  deleteMovieFromWillWatch = movie => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\r\n      item => item.id !== movie.id\r\n    );\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  updateSortBy = value => {\r\n    this.setState({\r\n      sort_by: value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"render\", this.state.sort_by);\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-12\">\r\n              <MovieTabs\r\n                sort_by={this.state.sort_by}\r\n                updateSortBy={this.updateSortBy}\r\n              />\r\n                </div>\r\n              </div>\r\n            <div className=\"row\">\r\n              {this.state.movies.map(movie => {\r\n                return (\r\n                  <div className=\"col-6 mb-4\" key={movie.id}>\r\n                    <MovieItem\r\n                      data={movie}\r\n                      deleteMovie={this.deleteMovie}\r\n                      addMovieToWillWatch={this.addMovieToWillWatch}\r\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\r\n            <ul className=\"list-group\">\r\n              {this.state.moviesWillWatch.map(movie => (\r\n                <li key={movie.id} className=\"list-group-item\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p>{movie.title}</p>\r\n                    <p>{movie.vote_average}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}